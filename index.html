<!DOCTYPE html>
<html lang=”en”>
<head>
<meta charset='UTF-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0'>
<title>editApp</title>
</head>
  
<body style='margin:0px; padding:0px'> 
	
<script src='http://code.jquery.com/jquery-2.1.1.min.js'></script>
	
<script> 

var div = document.createElement('div');
div.setAttribute('id', 'div');
div.setAttribute('width', '1080');
div.setAttribute('height', '2176');  // 2400-112-112=2176
// div.setAttribute('border', 'solid black 1px');
document.body.appendChild(div);

var div1 = document.createElement('div');
div1.setAttribute('id', 'div1');
div1.setAttribute('width', '1080');
// div1.setAttribute('height', '2176');  // 
// div1.setAttribute('border', 'solid black 1px');
document.getElementById('div').appendChild(div1);

var div2 = document.createElement('div');
div2.setAttribute('id', 'div2');
div2.setAttribute('width', '1080');
// div2.setAttribute('height', '2176');  // 
// div2.setAttribute('border', 'solid black 1px');
document.getElementById('div').appendChild(div2);

var div3 = document.createElement('div');
div3.setAttribute('id', 'div3');
div3.setAttribute('width', '1080');
// div3.setAttribute('height', '2176');  // 
// div3.setAttribute('border', 'solid black 1px');
document.getElementById('div').appendChild(div3);

var div4 = document.createElement('div');
div4.setAttribute('id', 'div4');
div4.setAttribute('width', '1080');
// div4.setAttribute('height', '2176');  // 
// div4.setAttribute('border', 'solid black 1px');
document.getElementById('div').appendChild(div4);

var canvas = document.createElement('canvas');
canvs.setAttribute('id', 'canvas');
canvs.setAttribute('width', '1080');
canvs.setAttribute('height', '128');  // 
// canvas.setAttribute('border', 'solid black 1px');
document.getElementById('div').appendChild(canvas);

</script> 

<script>

  drawKeypad(0, 0, 0); // 2160-512 
function drawKeypad(x, y, t) {   
	alert('1');
  var px=0; var py=0; 
  var pw=0; var ph=0;
  var cl=10; var rw=4; 
  var kc=0; var kr=0; 
  var kl=14; var kt=16; 
  var kw=80; var kh=96; 
			
  
  var cvs = document.getElementById('canvas'); 
  var ctx = cvs.getContext('2d'); 
  var imgData = ctx.createImageData(kw, kh); 
	
	ctx.fillStyle = 'rgba(192,192,192,1.0)'; // gray
	ctx.fillRect(x, y, 1080, 128*4);  
	 
        var imgBuf = new ArrayBuffer(kw*4*kh*rw*cl);  
	
	var imgView = new Uint8Array(imgBuf); 
	
  for (let i=0; i<(kw*4*kh)*(rw*cl); i+=4) { 
    imgView[i+0] = 0xFF; // R
    imgView[i+1] = 0xFF; // G
    imgView[i+2] = 0xFF; // B
    imgView[i+3] = 0xFF; // A
  } 

  function draw(kc, kr, kw, kh, kl, kt) { 
	  var kx=x+px+(kw+kl*2)*kc; 
	  var ky=y+py+(kh+kt*2)*kr; 
	  imgData = ctx.createImageData(kw+pw, kh+ph);
	  for (let i=0; i<(kw+pw)*4*(kh+ph); i++) { 
		  imgData.data[i] = imgView[(kw*4*kh*cl)*kr+(kw*4*kh)*kc+i]; 
	  } 
	  ctx.putImageData(imgData, kx+kl, ky+kt);  
  } 
  
  for (let j=0; j<rw; j++) { 
    for (let i=0; i<cl; i++) { 
      if (j==0 && i==0) {cl=10; px=0;} 
      if (j==1 && i==0) {if(t==0||t==1){cl=9; px=((kw+kl*2)/2);}if(t==2||t==3){cl=10; px=0;}} 
      if (j==2 && i==0) {cl=9; px=0; pw=((kw+kl*2)/2);} 
      if (j==2 && i==1) {cl=9; px=((kw+kl*2)/2); pw=0;} 
      if (j==2 && i==8) {cl=9; px=((kw+kl*2)/2); pw=((kw+kl*2)/2);}
      if (j==3 && i==0) {cl=5; px=0; pw=((kw+kl*2)/2);} 
      if (j==3 && i==1) {cl=5; px=((kw+kl*2)/2); pw=0;} 
      if (j==3 && i==2) {cl=5; px=((kw+kl*2)/2); pw=((kw+kl*2)*4);} 
      if (j==3 && i==3) {cl=5; px=((kw+kl*2)/2)+((kw+kl*2)*4); pw=0;} 
      if (j==3 && i==4) {cl=5; px=((kw+kl*2)/2)+((kw+kl*2)*4); pw=((kw+kl*2)/2);}
      kc=i; kr=j; 
      draw(kc, kr, kw, kh, kl, kt); 
    } 
  }  
  
}
  
</script>

</body> 
</html>

